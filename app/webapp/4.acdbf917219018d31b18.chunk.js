webpackJsonp([4],{JZRX:function(l,n,u){"use strict";function t(l){return a._26(0,[(l()(),a._5(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function e(l){return a._26(0,[(l()(),a._5(0,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                        "])),(l()(),a._5(2,0,null,null,5,"input",[["name","taskCell.cell_value"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==a._19(l,3)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==a._19(l,3).onTouched()&&t),"compositionstart"===n&&(t=!1!==a._19(l,3)._compositionStart()&&t),"compositionend"===n&&(t=!1!==a._19(l,3)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(l.context.$implicit.cell_value=u)&&t),t},null,null)),a._4(3,16384,null,0,k.d,[a.D,a.k,[2,k.a]],null,null),a._22(1024,null,k.h,function(l){return[l]},[k.d]),a._4(5,671744,null,0,k.m,[[8,null],[8,null],[8,null],[2,k.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a._22(2048,null,k.i,null,[k.m]),a._4(7,16384,null,0,k.j,[k.i],null,null),(l()(),a._25(-1,null,["\n                    "]))],function(l,n){l(n,5,0,"taskCell.cell_value",n.context.$implicit.cell_value)},function(l,n){l(n,2,0,n.component.user_id!=n.parent.context.$implicit.user_id,a._19(n,7).ngClassUntouched,a._19(n,7).ngClassTouched,a._19(n,7).ngClassPristine,a._19(n,7).ngClassDirty,a._19(n,7).ngClassValid,a._19(n,7).ngClassInvalid,a._19(n,7).ngClassPending)})}function i(l){return a._26(0,[(l()(),a._5(0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),a._5(1,0,null,null,1,"a",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.updateReportData(l.parent.context.$implicit.report_id,l.parent.context.$implicit.user_id,l.parent.context.$implicit.taskCells)&&t),t},null,null)),(l()(),a._25(-1,null,["\u586b\u62a5"]))],null,null)}function r(l){return a._26(0,[(l()(),a._5(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._5(1,0,null,null,0,"input",[["class","btn"],["type","button"],["value","\u586b\u62a5"]],null,null,null,null,null))],null,null)}function o(l){return a._26(0,[(l()(),a._5(0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._5(2,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(3,null,["",""])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._0(16777216,null,null,1,null,e)),a._4(6,802816,null,0,C.j,[a.O,a.L,a.q],{ngForOf:[0,"ngForOf"]},null),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._5(8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(9,null,["",""])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._0(16777216,null,null,1,null,i)),a._4(12,16384,null,0,C.k,[a.O,a.L],{ngIf:[0,"ngIf"]},null),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._0(16777216,null,null,1,null,r)),a._4(15,16384,null,0,C.k,[a.O,a.L],{ngIf:[0,"ngIf"]},null),(l()(),a._25(-1,null,["\n                "]))],function(l,n){var u=n.component;l(n,6,0,n.context.$implicit.taskCells),l(n,12,0,u.user_id==n.context.$implicit.user_id&&"3"!=n.context.$implicit.state),l(n,15,0,u.user_id!=n.context.$implicit.user_id||u.user_id==n.context.$implicit.user_id&&"3"==n.context.$implicit.state)},function(l,n){l(n,3,0,n.context.$implicit.user_id),l(n,9,0,"3"==n.context.$implicit.state?"\u5df2\u586b\u62a5":"\u672a\u586b\u62a5")})}function _(l){return a._26(0,[(l()(),a._5(0,0,null,null,29,"div",[["class","panel"]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n    "])),(l()(),a._5(2,0,null,null,26,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n        "])),(l()(),a._5(4,0,null,null,23,"div",[["class","row form-group"]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n            "])),(l()(),a._5(6,0,null,null,20,"table",[["class","table table-bordered table-striped table-condensed f_table"]],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                "])),(l()(),a._5(8,0,null,null,18,"tbody",[],null,null,null,null,null)),(l()(),a._5(9,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._5(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\u7528\u6237\u540d\u79f0"])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._0(16777216,null,null,1,null,t)),a._4(15,802816,null,0,C.j,[a.O,a.L,a.q],{ngForOf:[0,"ngForOf"]},null),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._5(17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\u72b6\u6001"])),(l()(),a._25(-1,null,["\n                    "])),(l()(),a._5(20,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),a._25(-1,null,["\u64cd\u4f5c"])),(l()(),a._25(-1,null,["\n                "])),(l()(),a._25(-1,null,["\n                "])),(l()(),a._0(16777216,null,null,1,null,o)),a._4(25,802816,null,0,C.j,[a.O,a.L,a.q],{ngForOf:[0,"ngForOf"]},null),(l()(),a._25(-1,null,["\n            "])),(l()(),a._25(-1,null,["\n        "])),(l()(),a._25(-1,null,["\n    "])),(l()(),a._25(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,15,0,u.cellNames),l(n,25,0,u.taskList)},null)}Object.defineProperty(n,"__esModule",{value:!0});var a=u("LMZF"),c=u("6Xbx"),s=u("UHIZ"),p=u("dJ6Q"),d=u("TMwh"),m=u("34mm"),g=function(l){function n(n,u,t){var e=l.call(this)||this;return e.http=n,e.commonService=u,e.route=t,e.report_id=t.snapshot.params.report_id,e.user_id=t.snapshot.params.user_id,e}return Object(c.b)(n,l),n.prototype.ngOnInit=function(){this.qryCurrentReportTask()},n.prototype.qryCurrentReportTask=function(){var l=this,n={reportId:this.report_id,userId:this.user_id};this.http.post(this.commonService.getReportServerPath()+"/formReport/viewTask",n,{headers:this.commonService.getHeaders()}).toPromise().then(function(n){if(l.taskList=n.json().data,l.taskList.length>0){var u=l.taskList[0].taskCells;l.cellNames=new Array;for(var t=0,e=u;t<e.length;t++)l.cellNames.push(e[t].cell_name)}})},n.prototype.updateReportData=function(l,n,u){var t=new Array;u.forEach(function(l){t.push({cellId:l.cell_id,cellValue:l.cell_value})});var e={report_id:l,user_id:n,task_cells:t};this.http.post(this.commonService.getReportServerPath()+"/formReport/updateReportData",e,{headers:this.commonService.getHeaders()}).toPromise().then(function(l){}),this.qryCurrentReportTask()},n}(u("2UUl").a),f=function(){},h=u("8BQp"),v=u("NHjn"),b=u("CFHN"),k=u("0nO6"),C=u("Un6q"),y=a._3({encapsulation:0,styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align: center;vertical-align: middle!important;}"],data:{}}),O=a._1("ng-component",g,function(l){return a._26(0,[(l()(),a._5(0,0,null,null,1,"ng-component",[],null,null,null,_,y)),a._4(1,114688,null,0,g,[d.e,m.a,s.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),x=u("wXA+"),$=u("8EWJ"),j=u("0yYa"),R=u("9wrn"),I=u("k47s"),L=u("LNKZ"),M=u("Adlr");u.d(n,"FormReportModuleNgFactory",function(){return P});var P=a._2(f,[],function(l){return a._16([a._17(512,a.j,a.Y,[[8,[h.c,h.a,h.b,v.b,v.a,b.a,O]],[3,a.j],a.v]),a._17(4608,k.s,k.s,[]),a._17(4608,d.c,d.c,[]),a._17(4608,d.h,d.b,[]),a._17(5120,d.j,d.k,[]),a._17(4608,d.i,d.i,[d.c,d.h,d.j]),a._17(4608,d.g,d.a,[]),a._17(5120,d.e,d.l,[d.i,d.g]),a._17(4608,C.m,C.l,[a.s,[2,C.t]]),a._17(4608,x.k,x.k,[x.m,a.p]),a._17(4608,x.f,$.h,[x.k]),a._17(4608,$.h,$.h,[x.k]),a._17(4608,j.b,j.b,[j.a,a.p]),a._17(5120,R.a,I.a,[j.b]),a._17(4608,L.a,L.a,[]),a._17(512,s.m,s.m,[[2,s.r],[2,s.k]]),a._17(512,k.q,k.q,[]),a._17(512,k.e,k.e,[]),a._17(512,d.f,d.f,[]),a._17(512,C.b,C.b,[]),a._17(512,x.g,x.g,[]),a._17(512,$.g,$.g,[]),a._17(512,M.a,M.a,[]),a._17(512,p.a,p.a,[]),a._17(512,f,f,[]),a._17(256,j.a,{},[]),a._17(1024,s.i,function(){return[[{path:"task/:user_id/:report_id",component:g}]]},[])])})}});